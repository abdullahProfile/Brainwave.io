<style>
  .section-{{ section.id }} .container {
    display: flex;
    flex-direction: {{ section.settings.flex-direction }};
    align-items: {{ section.settings.align_items }};
    justify-content: {{ section.settings.justify_content }};
    gap: {{ section.settings.gap }}px;
  }

  @media (max-width: 768px) {
    .section-{{ section.id }} .container {
      flex-direction: {{ section.settings.flex_direction_mobile }};
    }
  }

  {% for block in section.blocks %}
    {% case block.type %}
      {% when 'heading' %}
        .section-{{ section.id }} .heading {
          font-size: {{ block.settings.title_size }}px;
        }

        @media (max-width: 768px) {
          .section-{{ section.id }} .heading {
            font-size: {{ block.settings.title_size_mobile }}px;
          }
        }

      {% when 'text' %}
        .section-{{ section.id }} .description {
          font-size: {{ block.settings.description_size }}px;
        }

        @media (max-width: 768px) {
          .section-{{ section.id }} .description {
            font-size: {{ block.settings.description_size_mobile }}px;
          }
        }
    {% endcase %}
  {% endfor %}

  .section-{{section.id}} .image{
    max-width: 600px;
    overflow: hiddden;
  }

  .section-{{section.id}} .image img {
    width: 100%;
    object-fit: cover;
    border-radius: 0px
  }

</style>

<section class="section section-{{ section.id }}">
  <div class="container">
    <div class="image">
      {% if section.settings.image != blank %}
        {% assign image = section.settings.image %}
        <img
          src="{{ image | img_url: '600x' }}"
          alt="{{ image.alt | escape }}"
          width="{{ image.width }}"
          height="{{ image.height }}"
        >
      {% else %}
        <div class="placeholder">
          {{ 'image' | placeholder_svg_tag: 'placeholder' }}
        </div>
      {% endif %}
    </div>

    <div class="content">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'heading' %}
            <{{ block.settings.heading_tag }} class="heading" {{ block.shopify_attributes }}>
              {{ block.settings.heading }}
            </{{ block.settings.heading_tag }}>

          {% when 'text' %}
            <div class="description" {{ block.shopify_attributes }}>
              {{ block.settings.description }}
            </div>

          {% when 'button' %}
            {% if block.settings.button_text != blank %}
              <a
                href="{{ block.settings.button_link }}"
                class="link button"
                {{ block.shopify_attributes }}
              >
                {{ block.settings.button_text }}
              </a>
            {% endif %}
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "image with text",
  "tag": "section",
  "class": "section",

  "settings": [
    {
      "type": "header",
      "content": "section settings"
    },

    {
      "type": "select",
      "id": "flex-direction",
      "label": "Flex Direction",

      "options": [
        {
          "value": "row",
          "label": "Row"
        },

        {
          "value": "column",
          "label": "column"
        },

        {
          "value": "row-reverse",
          "label": "Row Reverse"
        },

        {
          "value": "column-reverse",
          "label": "column Reverse"
        }
      ],

      "default": "row"
    },

    {
      "type": "select",
      "id": "align_items",
      "label": "Align Items",

      "options": [
        {
          "value": "center",
          "label": "Center"
        },

        {
          "value": "start",
          "label": "Start"
        },

        {
          "value": "end",
          "label": "End"
        }
      ],

      "default": "center"
    },

    {
      "type": "select",
      "id": "justify_content",
      "label": "Justify content",

      "options": [
        {
          "value": "center",
          "label": "Center"
        },

        {
          "value": "space-between",
          "label": "Space Between"
        },

        {
          "value": "space-evenly",
          "label": "Space Evenly"
        },

        {
          "value": "space-around",
          "label": "Space Around"
        }
      ],

      "default": "space-between"
    },

    {
      "type": "range",
      "id": "gap",
      "label": "Gap between",
      "min": 10,
      "max": 80,
      "step": 10,
      "default": 10,
      "unit": "px"
    },

    {
      "type": "select",
      "id": "flex_direction_mobile",
      "label": "flex direction on mobile",

      "options": [
        {
          "value": "row",
          "label": "Row"
        },

        {
          "value": "column",
          "label": "column"
        },

        {
          "value": "row-reverse",
          "label": "Row Reverse"
        },

        {
          "value": "column-reverse",
          "label": "column Reverse"
        }
      ],

      "default": "column"
    },

    {
      "type": "header",
      "content": "Image Setting"
    },

    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    }
  ],

  "blocks": [
    {
      "type": "heading",
      "name": "Heading",

      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "heading",
          "default": "image with text heading"
        },

        {
          "type": "select",
          "id": "heading_tag",
          "label": "Heading Tag",

          "options": [
            {
              "value": "h1",
              "label": "H1"
            },

            {
              "value": "h2",
              "label": "H2"
            },

            {
              "value": "h3",
              "label": "H3"
            },

            {
              "value": "h4",
              "label": "H4"
            }
          ],

          "default": "h1"
        },

        {
          "type": "range",
          "id": "title_size",
          "label": "Title font size",
          "min": 16,
          "max": 64,
          "step": 4,
          "default": 16,
          "unit": "px"
        },

        {
          "type": "range",
          "id": "title_size_mobile",
          "label": "Title font size on mobile",
          "min": 16,
          "max": 64,
          "step": 4,
          "default": 16,
          "unit": "px"
        }
      ]
    },

    {
      "type": "text",
      "name": "text",
      "limit": 2,

      "settings": [
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>Image with text description</p>"
        },

        {
          "type": "range",
          "id": "escription_size",
          "label": "Description font size",
          "min": 16,
          "max": 64,
          "step": 4,
          "default": 16,
          "unit": "px"
        },

        {
          "type": "range",
          "id": "description_size_mobile",
          "label": "Description font size on mobile",
          "min": 16,
          "max": 64,
          "step": 4,
          "default": 16,
          "unit": "px"
        },
      ],
    },

    {
      "type": "button",
      "name": "button",
      "limit": 2,

      "settings": [

        {
          "type": "text",
          "id": "button_text",
          "label": "Button text",
          "default": "Shop now"
        },

        {
          "type": "url",
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        }
      ]
    },
  ],

  "presets": [
    {
      "name": "Image with text",
      "blocks": [
        {
          "type": "heading"
        },
        {
          "type": "text"
        },

        {
          "type": "button"
        }
      ]
    }
  ]
}
{% endschema %}